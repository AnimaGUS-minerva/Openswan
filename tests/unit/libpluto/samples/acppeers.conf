config setup

conn %default
        ikelifetime=60m
        keylife=20m
        rekeymargin=3m
        keyingtries=1
        ikev2=insist

# A = dave
# B = carol
# C = bob
# stupid assignments, eh?

conn peerA--peerB
        overlapip=true
        left=fe80::8054:3eff:fe9a:d3f4
        leftcert=daveCert.pem
        leftid=%cert
        leftsubnet=::/0
        leftca="C=CA, ST=ON, L=Ottawa, O=Xelerance, CN=Openswan Unit Testing Root CA"
        leftsendcert=always
        leftvtinum=4567
        right=fe80::ec68:7cff:fe0c:9aa4
        rightid="C=CA, ST=ON, O=Xelerance, CN=*"
        rightsubnet=::/0
        rightca=%same
        rightsendcert=always
        rightvtinum=6789
        clientaddrfamily=ipv6
        auto=add

conn peerA--peerC
        overlapip=true
        left=fe80::8054:3eff:fe9a:d3f4
        leftcert=daveCert.pem
        leftid=%cert
        leftsubnet=::/0
        leftca="C=CA, ST=ON, L=Ottawa, O=Xelerance, CN=Openswan Unit Testing Root CA"
        leftsendcert=always
        leftvtinum=3347
        right=fe80::ec68:7cff:fe0c:1c1c
        rightid="C=CA, ST=ON, O=Xelerance, CN=*"
        rightsubnet=::/0
        rightca=%same
        rightsendcert=always
        rightvtinum=8932
        clientaddrfamily=ipv6
        auto=add

conn peerB--peerA
        overlapip=true
        # left is peer A
        left=fe80::8054:3eff:fe9a:d3f4
        leftid="C=CA, ST=ON, O=Xelerance, CN=*"
        leftca=%same
        leftsubnet=::/0
        leftsendcert=always
        leftvtinum=1234
        # right is peer B
        right=fe80::ec68:7cff:fe0c:9aa4
        rightid=%cert
        rightcert=carolCert.pem
        rightsubnet=::/0
        rightca="C=CA, ST=ON, L=Ottawa, O=Xelerance, CN=Openswan Unit Testing Root CA"
        rightsendcert=always
        rightvtinum=9987
        clientaddrfamily=ipv6
        auto=add

conn peerC--peerA
        overlapip=true
        # left is peer A
        left=fe80::8054:3eff:fe9a:d3f4
        leftid="C=CA, ST=ON, O=Xelerance, CN=*"
        leftca=%same
        leftsubnet=::/0
        leftsendcert=always
        leftvtinum=3347
        # left is peer C
        right=fe80::ec68:7cff:fe0c:1c1c
        rightid=%cert
        rightcert=bobCert.pem
        rightsubnet=::/0
        rightca="C=CA, ST=ON, L=Ottawa, O=Xelerance, CN=Openswan Unit Testing Root CA"
        rightsendcert=always
        rightvtinum=8932
        clientaddrfamily=ipv6
        auto=add

